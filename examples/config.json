{
  "mongo": {
    "url": "mongodb://user:password@localhost:27017/db?replicaSet=rs0",
    "options": {
      "authSource": "admin",
      "poolSize": 3,
      "readPreference": "secondaryPreferred"
    }
  },
  "es": {
    "options": {
      "host": "http://localhost:9200",
      "apiVersion": "5.0",
      "sniff_on_start": true,
      "sniff_on_connection_fail": true,
      "sniffer_timeout": 60
    }
  },
  "tasks": [
    {
      "extract": {
        "db": "db0",
        "collection": "collection0",
        "query": {
          "createdAt": {
            "gte": 1494000000000
          }
        },
        "fields": {
          "field0": 1,
          "field1": 1,
          "field2": 1
        },
        "sort": {
          "$natural": -1
        },
        "maxDPS": 10000
      },
      "transform": {
        "mapping": {
          "field0": "property0",
          "field1": "property1",
          "field2": "_parent"
        }
      },
      "load": {
        "index": "index0",
        "type": "type0",
        "mapping": {
          "dynamic": false,
          "_parent": {
            "type": "type1"
          },
          "properties": {
            "property0": {
              "type": "text",
              "norms": false,
              "analyzer": "ik_max_word",
              "search_analyzer": "ik_smart"
            },
            "property1": {
              "type": "keyword"
            }
          }
        }
      }
    },
    {
      "extract": {
        "db": "db0",
        "collection": "collection1",
        "query": {},
        "fields": {
          "field3": 1
        },
        "sort": {
          "$natural": 1
        },
        "maxDPS": 1000
      },
      "transform": {
        "mapping": {
          "field3": "property3"
        }
      },
      "load": {
        "index": "index0",
        "type": "type1",
        "mapping": {
          "dynamic": false,
          "properties": {
            "property3": {
              "type": "keyword"
            }
          }
        }
      }
    }
  ]
}